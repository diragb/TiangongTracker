!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("AstroLib",[],e):"object"==typeof exports?exports.AstroLib=e():t.AstroLib=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="F:\\projects_git\\astrolib-ts\\dist",o(o.s=9)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEGTORAD=Math.PI/180,e.TWOPI=2*Math.PI,e.HALFPI=Math.PI/2,e.RADTODEG=180/Math.PI,e.ARCSECTORAD=e.DEGTORAD/3600,e.AU=149597870.66,e.OBLIQUITY_2000=23.43929111*e.DEGTORAD,e.CLIGHT=299792.458},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,o){this.x=t,this.y=e,this.z=o}return t.fromAzElev=function(e,o){var i=Math.cos(o);return new t(Math.cos(e)*i,Math.sin(e)*i,Math.sin(o))},t.fromArray=function(e){return new t(e[0],e[1],e[2])},t.prototype.toArray=function(){return[this.x,this.y,this.z]},Object.defineProperty(t.prototype,"magnitudeSquared",{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"magnitude",{get:function(){return Math.sqrt(this.magnitudeSquared)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latitude",{get:function(){return Math.asin(this.z/this.magnitude)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return Math.atan2(this.y,this.x)},enumerable:!0,configurable:!0}),t.prototype.dotProduct=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.vectorProduct=function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},t.prototype.scale=function(e){return new t(this.x*e,this.y*e,this.z*e)},t.prototype.normalize=function(){return this.scale(1/this.magnitude)},t.prototype.angleBetween=function(t){return Math.acos(this.dotProduct(t)/(this.magnitude*t.magnitude))},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z)},t.prototype.subtract=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)},t.prototype.rotateAboutXAxis=function(e){var o=Math.sin(e),i=Math.cos(e);return new t(this.x,i*this.y-o*this.z,o*this.y+i*this.z)},t.prototype.rotateAboutZAxis=function(e){var o=Math.sin(e),i=Math.cos(e);return new t(i*this.x-o*this.y,o*this.x+i*this.y,this.z)},t.prototype.getElement=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z}},t}();e.Vector=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getCenturiesSinceJ2000=function(e){return(e-t.J2000_TIME)/315576e7},t.mjdToTicks=function(t){return(t-this.JAVA_EPOCH_MJD)*this.TICKS_PER_DAY},t.ticksToMjd=function(t){return this.JAVA_EPOCH_MJD+t/this.TICKS_PER_DAY},Object.defineProperty(t,"utcNow",{get:function(){return(new Date).getTime()},enumerable:!0,configurable:!0}),t.J2000_TIME=946728e6,t.TICKS_PER_DAY=864e5,t.TICKS_PER_HOUR=36e5,t.TICKS_PER_MINUTE=6e4,t.JAVA_EPOCH_MJD=40587,t}();e.Time=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),n=function(){function t(t){this.elems=[];for(var e=0,o=t;e<o.length;e++){var i=o[e];this.elems.push(i)}}return t.fromRotationAboutAxis=function(e,o){var i=Math.sin(o),n=Math.cos(o);return new t(0==e?[1,0,0,0,n,-i,0,i,n]:1==e?[n,0,i,0,1,0,-i,0,n]:[n,-i,0,i,n,0,0,0,1])},t.fromArbitraryAxisAndRotation=function(e,o){var i=e.x*e.x,n=e.y*e.y,s=e.z*e.z,r=Math.sin(o),a=Math.cos(o),d=1-a;return new t([i+(1-i)*a,e.x*e.y*d-e.z*r,e.x*e.z*d+e.y*r,e.x*e.y*d+e.z*r,n+(1-n)*a,e.y*e.z*d-e.x*r,e.x*e.z*d-e.y*r,e.y*e.z*d+e.x*r,s+(1-s)*a])},t.prototype.multiplyVector=function(t){return new i.Vector(this.elems[0]*t.x+this.elems[1]*t.y+this.elems[2]*t.z,this.elems[3]*t.x+this.elems[4]*t.y+this.elems[5]*t.z,this.elems[6]*t.x+this.elems[7]*t.y+this.elems[8]*t.z)},t.prototype.multiplyMatrix=function(e){return new t([this.elems[0]*e.elems[0]+this.elems[1]*e.elems[3]+this.elems[2]*e.elems[6],this.elems[0]*e.elems[1]+this.elems[1]*e.elems[4]+this.elems[2]*e.elems[7],this.elems[0]*e.elems[2]+this.elems[1]*e.elems[5]+this.elems[2]*e.elems[8],this.elems[3]*e.elems[0]+this.elems[4]*e.elems[3]+this.elems[5]*e.elems[6],this.elems[3]*e.elems[1]+this.elems[4]*e.elems[4]+this.elems[5]*e.elems[7],this.elems[3]*e.elems[2]+this.elems[4]*e.elems[5]+this.elems[5]*e.elems[8],this.elems[6]*e.elems[0]+this.elems[7]*e.elems[3]+this.elems[8]*e.elems[6],this.elems[6]*e.elems[1]+this.elems[7]*e.elems[4]+this.elems[8]*e.elems[7],this.elems[6]*e.elems[2]+this.elems[7]*e.elems[5]+this.elems[8]*e.elems[8]])},t.prototype.transpose=function(){return new t([this.elems[0],this.elems[3],this.elems[6],this.elems[1],this.elems[4],this.elems[7],this.elems[2],this.elems[5],this.elems[8]])},t}();e.Matrix=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(0);function n(t){for(;t<0;)t+=360;for(;t>360;)t-=360;return t}e.reduceAngle360=n,e.reduceAngleTwoPi=function(t){return t-Math.floor(t/i.TWOPI)*i.TWOPI},e.getCompassString=function(t){t=n(t);var e=Math.floor((t+11.25)/22.5);return e>15&&(e=0),["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][e]},e.sinh=function(t){if(Math.sinh)return Math.sinh(t);var e=Math.exp(t);return(e-1/e)/2},e.cosh=function(t){if(Math.cosh)return Math.cosh(t);var e=Math.exp(t);return(e+1/e)/2}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(0),n=o(4),s=o(1),r=o(3),a=function(){function t(e,o,i,n,s,a,d){if(this.m_e=o,this.isEllipse?(this.m_a=e/(1-o),this.mRootEsq=Math.sqrt(1-o*o)):o>=t.MIN_ECC_HYPERBOLA?(this.m_a=e/(1-o),this.mRootEsq=Math.sqrt(o*o-1)):(this.m_a=0,this.m_e=1),this.m_tp=d,this.m_GM=a,this.m_i=i,this.m_ArgP=n,this.m_Node=s,this.m_rp=e,!this.isParabola){var h=this.m_a;this.m_MDot=Math.sqrt(a/Math.abs(h*h*h))}this.m_OrbitToRefMatrix=r.Matrix.fromRotationAboutAxis(2,s).multiplyMatrix(r.Matrix.fromRotationAboutAxis(0,i)).multiplyMatrix(r.Matrix.fromRotationAboutAxis(2,n))}return t.fromKeplerElements=function(e,o,i,n,s,r,a,d){return new t(e*(1-o),o,i,n,s,a,d-1e3*r/Math.sqrt(a/(e*e*Math.abs(e))))},t.fromCartesianState=function(e,o,n,s){var r=e.magnitude,a=o.magnitudeSquared,d=e.vectorProduct(o),h=d.magnitudeSquared,c=Math.sqrt(h),u=0,m=d.z/c,l=Math.sqrt(1-m*m);0==l&&0==m||(u=Math.atan2(l,m))<0&&(u+=i.TWOPI);var p=2/r-a/s,f=1/p,v=1-h*p/s,M=Math.sqrt(v),g=0,x=c*l,y=d.x/x,T=-d.y/x;0==y&&0==T||(g=Math.atan2(y,T))<0&&(g+=i.TWOPI);var b=0,z=f*(1-v),_=e.dotProduct(o);if(0!=M){var O=z/(M*r),A=_*O/c,P=O-1/M;(b=Math.atan2(A,P))<0&&(b+=i.TWOPI)}var E=(e.x*T+e.y*y)/r,D=((e.y*T-e.x*y)*m+e.z*l)/r,R=Math.atan2(D,E);R<0&&(R+=i.TWOPI);var S=R-b;S<0&&(S+=i.TWOPI);var w=0;if(M<1){var C=Math.cos(b)+M,I=Math.sin(b)*Math.sqrt(1-M*M),j=Math.atan2(I,C);(w=j-M*Math.sin(j))<0&&(w+=i.TWOPI)}else{var G=Math.sin(b)*Math.sqrt(M*M-1)/(Math.cos(b)+M),q=.5*Math.log((1+G)/(1-G));w=M*Math.sinh(q)-q}return t.fromKeplerElements(f,M,u,S,g,w,s,n)},t.prototype.getPos=function(t){var e=this.getPosVelInOrbitalCoords(t)[0];return this.m_OrbitToRefMatrix.multiplyVector(e)},t.prototype.getVel=function(t){var e=this.getPosVelInOrbitalCoords(t)[1];return this.m_OrbitToRefMatrix.multiplyVector(e)},Object.defineProperty(t.prototype,"period",{get:function(){return this.isEllipse?1e3*i.TWOPI/this.m_MDot:NaN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEllipse",{get:function(){return this.m_e<=t.MAX_ECC_ELLIPSE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHyperbola",{get:function(){return this.m_e>=t.MIN_ECC_HYPERBOLA},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isParabola",{get:function(){return!this.isEllipse&&!this.isHyperbola},enumerable:!0,configurable:!0}),t.prototype.mean_to_True=function(t){for(var e=0,o=this.m_e>.8?Math.PI:t,i=1;i<=30;i++){var n=6*t-3*o,s=n<0;if(n=Math.abs(n),o=Math.pow(n,1/3)*(s?-1:1),Math.abs(e-o)<1e-8)break;e=o}return 2*Math.atan(o)},Object.defineProperty(t.prototype,"orbitPole",{get:function(){return this.m_OrbitToRefMatrix.multiplyVector(new s.Vector(0,0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ApoapsisDistance",{get:function(){return this.isEllipse?this.m_a*(1+this.m_e):NaN},enumerable:!0,configurable:!0}),t.prototype.getPosVelInOrbitalCoords=function(t){if(this.isEllipse){for(var e=this.meanAnomaly(t),o=this.m_e>.8?Math.PI:e,i=0;i<20;i++){var r=o-this.m_e*Math.sin(o)-e;if(o-=r/(1-this.m_e*Math.cos(o)),Math.abs(r)<1e-10)break}var a=new s.Vector(this.m_a*(Math.cos(o)-this.m_e),this.m_a*this.mRootEsq*Math.sin(o),0),d=Math.cos(o),h=this.m_a*this.m_MDot/(1-this.m_e*d);return[a,new s.Vector(-Math.sin(o)*h,this.mRootEsq*d*h,0)]}if(this.isHyperbola){e=this.meanAnomaly(t);var c=Math.log(2*Math.abs(e)/this.m_e+1.8);e<0&&(c=-c);for(i=0;i<20;i++){var u=this.m_e*n.sinh(c)-c-e;if(c-=u/(this.m_e*n.cosh(c)-1),Math.abs(u)<1e-10)break}var m=n.sinh(c);d=n.cosh(c),h=this.m_a*this.m_MDot/(this.m_e*d-1);return[a=new s.Vector(this.m_a*(d-this.m_e),-this.m_a*this.mRootEsq*m,0),new s.Vector(m*h,-this.mRootEsq*d*h,0)]}},t.prototype.meanAnomaly=function(t){var e=(t-this.m_tp)/1e3*this.m_MDot;return this.m_e<1&&(e=n.reduceAngleTwoPi(e))>Math.PI&&(e-=i.TWOPI),e},t.MAX_ECC_ELLIPSE=1-1e-8,t.MIN_ECC_HYPERBOLA=1+1e-8,t}();e.Conic=a},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(3),n=o(2),s=o(0),r=function(){function t(){}return t.gha=function(t){var e=n.Time.getCenturiesSinceJ2000(t),o=24110.54841+(8640184.812866+(.093104-62e-7*e)*e)*e;return(o=(o+=t%864e5*.001)/13750.987%s.TWOPI)<0&&(o+=s.TWOPI),o},t.getPrecessionMatrix=function(t){var e=n.Time.getCenturiesSinceJ2000(t),o=e*e,r=o*e,a=(.6406161*e+839e-7*o+5e-6*r)*s.DEGTORAD,d=(.6406161*e+3041e-7*o+51e-7*r)*s.DEGTORAD,h=(.556753*e-1185e-7*o-116e-7*r)*s.DEGTORAD,c=Math.cos(a),u=Math.sin(a),m=Math.cos(d),l=Math.sin(d),p=Math.cos(h),f=Math.sin(h);return new i.Matrix([c*p*m-u*l,-u*p*m-c*l,-f*m,c*p*l+u*m,-u*p*l+c*m,-f*l,c*f,-u*f,p])},t.RADIUS=6378.137,t.FORMFACTOR=298.257223563,t.F=1/t.FORMFACTOR,t.ESQ=(2-t.F)*t.F,t.ROTATION_RATE=s.TWOPI/86164.091,t.GM=398600.5,t}();e.Earth=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),n=o(2),s=o(0),r=function(){function t(){}return t.getRoughPos=function(t){var e=n.Time.getCenturiesSinceJ2000(t),o=(6.240038674+628.3019494*e)%s.TWOPI,r=(4.93824+o+(.033418*Math.sin(o)+349e-6*Math.sin(2*o))+.030016*e)%s.TWOPI,a=Math.sin(r);return new i.Vector(Math.cos(r),Math.cos(s.OBLIQUITY_2000)*a,Math.sin(s.OBLIQUITY_2000)*a)},t.RADIUS=696e3,t.GM=132712438e3,t}();e.Sun=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t){this.centralBody=t.centralBody,this.startTime=t.startTime,this.endTime=t.endTime,this.timeStep=t.timeStep}}();e.TrajectorySegment=i},function(t,e,o){"use strict";function i(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}Object.defineProperty(e,"__esModule",{value:!0}),i(o(0)),i(o(4));var n=o(1);e.Vector=n.Vector;var s=o(3);e.Matrix=s.Matrix;var r=o(10);e.Chebyshev=r.Chebyshev;var a=o(5);e.Conic=a.Conic;var d=o(6);e.Earth=d.Earth;var h=o(7);e.Sun=h.Sun;var c=o(11);e.Moon=c.Moon;var u=o(2);e.Time=u.Time;var m=o(12);e.GroundStation=m.GroundStation;var l=o(8);e.TrajectorySegment=l.TrajectorySegment;var p=o(13);e.ChebyshevTrajectorySegment=p.ChebyshevTrajectorySegment;var f=o(14);e.OsculatingTrajectorySegment=f.OsculatingTrajectorySegment;var v=o(15);e.Mercury=v.Mercury,e.Venus=v.Venus,e.Mars=v.Mars,e.Jupiter=v.Jupiter;var M=o(16);e.SearchAlgorithms=M.SearchAlgorithms;var g=o(17);e.Sgp4Orbit=g.Sgp4Orbit},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.order=t.order,this.components=t.components,this.startTime=t.startTime,this.endTime=t.endTime,this.coeffs=t.coeffs,this.midTime=(this.endTime+this.startTime)/2,this.halfTime=(this.endTime-this.startTime)/2}return t.prototype.evaluate=function(t){if(t<this.startTime||t>this.endTime)throw new RangeError;var e=[],o=(t-this.midTime)/this.halfTime,i=2*o,n=[];n.push(1),n.push(o);for(var s=2;s<=this.order;s++)n.push(i*n[s-1]-n[s-2]);for(var r=0;r<this.components;r++){e[r]=.5*this.coeffs[r*(this.order+1)];for(s=1;s<=this.order;s++)e[r]+=this.coeffs[r*(this.order+1)+s]*n[s]}return e},t}();e.Chebyshev=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),n=o(2),s=o(6),r=o(0),a=function(){function t(){}return t.getRoughPos=function(t){var e=n.Time.getCenturiesSinceJ2000(t),o=.606433+1336.855225*e,a=r.TWOPI*(.374897+1325.55241*e),d=r.TWOPI*(.993133+99.997361*e),h=r.TWOPI*(.827361+1236.853086*e),c=r.TWOPI*(.259086+1342.227825*e),u=22640*Math.sin(a)-4586*Math.sin(a-2*h)+2370*Math.sin(2*h)+769*Math.sin(2*a)-668*Math.sin(d)-412*Math.sin(2*c)-212*Math.sin(2*a-2*h)-206*Math.sin(a+d-2*h)+192*Math.sin(a+2*h)-165*Math.sin(d-2*h)-125*Math.sin(h)-110*Math.sin(a+d)+148*Math.sin(a-d)-55*Math.sin(2*c-2*h),m=c+(u+412*Math.sin(2*c)+541*Math.sin(d))*r.ARCSECTORAD,l=c-2*h,p=-526*Math.sin(l)+44*Math.sin(a+l)-31*Math.sin(-a+l)-23*Math.sin(d+l)+11*Math.sin(-d+l)-25*Math.sin(-2*a+c)+21*Math.sin(-a+c),f=3422.7+186.5398*Math.cos(a)+34.3117*Math.cos(a-2*h)+28.2333*Math.cos(2*h)+10.1657*Math.cos(2*a),v=s.Earth.RADIUS/(.99953253*f*r.ARCSECTORAD),M=r.TWOPI*(o+u/1296e3),g=(18520*Math.sin(m)+p)*r.ARCSECTORAD,x=Math.cos(g),y=x*Math.sin(M),T=Math.sin(g),b=Math.cos(r.OBLIQUITY_2000),z=Math.sin(r.OBLIQUITY_2000);return new i.Vector(x*Math.cos(M)*v,(b*y-z*T)*v,(z*y+b*T)*v)},t.RADIUS=1738,t}();e.Moon=a},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(3),n=function(){function t(t,e,o){this.latitude=t,this.longitude=e,this.altitude=o}return t.prototype.geographicToTopocentricMatrix=function(){if(!this._geoToTopoMat){var t=Math.sin(this.latitude),e=Math.cos(this.latitude),o=Math.sin(this.longitude),n=Math.cos(this.longitude);this._geoToTopoMat=new i.Matrix([-o,n,0,-t*n,-t*o,e,e*n,e*o,t])}return this._geoToTopoMat},t}();e.GroundStation=n},function(t,e,o){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var s=o(1),r=o(2),a=o(8),d=o(10),h=function(t){function e(e){var o=t.call(this,e)||this;return o.order=e.order,o.coeffs=e.coeffs,o}return n(e,t),e.prototype.getPos=function(t){if(t<this.startTime||t>this.endTime)throw new RangeError("Time outside valid range");for(var e=Math.floor((t-this.startTime)/this.timeStep),o=[],i=3*(this.order+1),n=e*i;n<(e+1)*i;n++)o.push(this.coeffs[n]);var a=new d.Chebyshev({order:this.order,components:3,startTime:r.Time.ticksToMjd(this.startTime+e*this.timeStep),endTime:r.Time.ticksToMjd(this.startTime+(e+1)*this.timeStep),coeffs:o}).evaluate(r.Time.ticksToMjd(t));return new s.Vector(a[0],a[1],a[2])},e}(a.TrajectorySegment);e.ChebyshevTrajectorySegment=h},function(t,e,o){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var s=o(5),r=o(0),a=function(t){function e(e){var o=t.call(this,e)||this;return o.centralBodyGM=e.centralBodyGM,o.elements=e.elements,o}return n(e,t),e.prototype.getPos=function(t){if(t<this.startTime||t>this.endTime)throw new RangeError("Time outside valid range");var e=6*Math.round((t-this.startTime)/this.timeStep);if(e>=this.elements.length)throw new RangeError("Time outside valid range");return new s.Conic(this.elements[e+1],this.elements[e],this.elements[e+2]*r.DEGTORAD,this.elements[e+4]*r.DEGTORAD,this.elements[e+3]*r.DEGTORAD,this.centralBodyGM,this.elements[e+5]).getPos(t)},e}(o(8).TrajectorySegment);e.OsculatingTrajectorySegment=a},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),n=o(2),s=o(7),r=o(5),a=o(0),d=o(4),h=function(){function t(){}return t.getRoughPos=function(e){return t.getOsculatingConic(e).getPos(e)},t.getOsculatingConic=function(t){var e=n.Time.getCenturiesSinceJ2000(t),o=(.38709893+6.6e-7*e)*a.AU,i=.20563069+2527e-8*e,h=(7.00487-23.51*e/3600)*a.DEGTORAD,c=(48.33167-446.3*e/3600)*a.DEGTORAD,u=(77.45645+573.57*e/3600)*a.DEGTORAD-c,m=(252.25084+415.20187368*e*360)*a.DEGTORAD,l=d.reduceAngleTwoPi(m-u-c);return r.Conic.fromKeplerElements(o,i,h,u,c,l,s.Sun.GM,t)},t.getPole=function(t){var e=n.Time.getCenturiesSinceJ2000(t);return i.Vector.fromAzElev((281.01-.033*e)*a.DEGTORAD,(61.45-.005*e)*a.DEGTORAD)},t.RADIUS=2439.7,t.SYMBOL="☿",t.MAGNITUDE=-.36,t}();e.Mercury=h;var c=function(){function t(){}return t.getRoughPos=function(e){return t.getOsculatingConic(e).getPos(e)},t.getOsculatingConic=function(t){var e=n.Time.getCenturiesSinceJ2000(t),o=(.72333199+9.2e-7*e)*a.AU,i=.00677323-4938e-8*e,h=(3.39471-2.86*e/3600)*a.DEGTORAD,c=(76.68069-996.89*e/3600)*a.DEGTORAD,u=(131.53298-108.8*e/3600)*a.DEGTORAD-c,m=(181.97973+162.5494877*e*360)*a.DEGTORAD,l=d.reduceAngleTwoPi(m-u-c);return r.Conic.fromKeplerElements(o,i,h,u,c,l,s.Sun.GM,t)},t.getPole=function(t){return i.Vector.fromAzElev(272.72*a.DEGTORAD,67.15*a.DEGTORAD)},t.RADIUS=6051.8,t.SYMBOL="♀",t.MAGNITUDE=-4.29,t}();e.Venus=c;var u=function(){function t(){}return t.getRoughPos=function(e){return t.getOsculatingConic(e).getPos(e)},t.getOsculatingConic=function(t){var e=n.Time.getCenturiesSinceJ2000(t),o=(1.52366231-7221e-8*e)*a.AU,i=.09341233+11902e-8*e,h=(1.85061-25.47*e/3600)*a.DEGTORAD,c=(49.57854-1020.19*e/3600)*a.DEGTORAD,u=(336.04084+1560.78*e/3600)*a.DEGTORAD-c,m=(355.45332+53.167518348*e*360)*a.DEGTORAD,l=d.reduceAngleTwoPi(m-u-c);return r.Conic.fromKeplerElements(o,i,h,u,c,l,s.Sun.GM,t)},t.getPole=function(t){var e=n.Time.getCenturiesSinceJ2000(t);return i.Vector.fromAzElev((317.681-.108*e)*a.DEGTORAD,(52.886-.061*e)*a.DEGTORAD)},t.RADIUS=3396.2,t.SYMBOL="♂",t.MAGNITUDE=-1.52,t}();e.Mars=u;var m=function(){function t(){}return t.getRoughPos=function(e){return t.getOsculatingConic(e).getPos(e)},t.getOsculatingConic=function(t){var e=n.Time.getCenturiesSinceJ2000(t),o=(5.20336301+60737e-8*e)*a.AU,i=.04839266-1288e-7*e,h=(1.3053-4.15*e/3600)*a.DEGTORAD,c=(100.55615+1217.17*e/3600)*a.DEGTORAD,u=(14.75385+839.93*e/3600)*a.DEGTORAD-c,m=(34.40438+8.429844405*e*360)*a.DEGTORAD,l=d.reduceAngleTwoPi(m-u-c);return r.Conic.fromKeplerElements(o,i,h,u,c,l,s.Sun.GM,t)},t.getPole=function(t){var e=n.Time.getCenturiesSinceJ2000(t);return i.Vector.fromAzElev((268.05-.009*e)*a.DEGTORAD,(64.49+.003*e)*a.DEGTORAD)},t.RADIUS=71492,t.SYMBOL="♃",t.MAGNITUDE=-9.25,t}();e.Jupiter=m},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.findRootUsingBrentMethod=function(t,e,o,i,n,s){var r,a,d,h,c,u,m,l,p,f,v,M,g,x,y;for(n||(n=i(t)),s||(s=i(e)),c=s,r=g=t,u=h=n,a=d=(x=e)-g,l=Math.pow(2,-52);0,Math.abs(u)<Math.abs(c)&&(g=x,x=r,r=g,h=c,c=u,u=h),y=2*l*Math.abs(x)+o,m=.5*(r-x),!(Math.abs(m)<=y||0==c);)Math.abs(d)<y||Math.abs(h)<=Math.abs(c)?a=d=m:(M=c/h,g==r?(p=2*m*M,f=1-M):(p=M*(2*m*(f=h/u)*(f-(v=c/u))-(x-g)*(v-1)),f=(f-1)*(v-1)*(M-1)),0<p?f=-f:p=-p,M=d,d=a,a=2*p<3*m*f-Math.abs(y*f)&&p<Math.abs(.5*M*f)?p/f:d=m),g=x,h=c,y<Math.abs(a)?x+=a:0<m?x+=y:x-=y,(0<(c=i(x))&&0<u||c<=0&&u<=0)&&(r=g,u=h,a=d=x-g);return x},t}();e.SearchAlgorithms=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(2),n=o(1),s=o(6),r=o(7),a=o(0),d=o(18),h=o(9),c=function(){function t(t){var e=t.substr(0,69),o=t.substr(69,69);this._tle=e+o,this._satrec=d.twoline2satrec(e,o)}return t.prototype.getLatLng=function(t){var e=d.propagate(this._satrec,new Date(t)).position,o=d.gstime(new Date(t)),i=d.eciToGeodetic(e,o),n=i.latitude*a.RADTODEG,s=i.longitude*a.RADTODEG;return s<-180&&(s+=360),s>180&&(s-=360),[n,s]},t.prototype.getHeight=function(t){var e=d.propagate(this._satrec,new Date(t)).position;return d.eciToGeodetic(e,0).height},Object.defineProperty(t.prototype,"period",{get:function(){var t=Number(this._tle.substr(121,11));return i.Time.TICKS_PER_DAY/t},enumerable:!0,configurable:!0}),t.prototype.getPos=function(t){var e=d.propagate(this._satrec,new Date(t)).position;return new n.Vector(e.x,e.y,e.z)},t.prototype.isSunlit=function(t){var e=this.getPos(t),o=r.Sun.getRoughPos(t),i=e.angleBetween(o),n=e.magnitude;return i<a.HALFPI+Math.acos(s.Earth.RADIUS/n)},t.prototype.findNextSunRiseSet=function(t,e){for(var o=t,i=t+e,n=this.isSunlit(o),a=this,d=function(){if(c.isSunlit(o)!=n){var t=r.Sun.getRoughPos(o);return{value:h.SearchAlgorithms.findRootUsingBrentMethod(o-3e4,o,1e3,function(e){var o=a.getPos(e),i=t.angleBetween(o),n=Math.asin(s.Earth.RADIUS/o.magnitude);return Math.PI-n-i})}}o+=3e4},c=this;o<i;){var u=d();if("object"==typeof u)return u.value}return NaN},t}();e.Sgp4Orbit=c},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o.d(e,"constants",function(){return v}),o.d(e,"propagate",function(){return D}),o.d(e,"sgp4",function(){return A}),o.d(e,"twoline2satrec",function(){return E}),o.d(e,"gstime",function(){return z}),o.d(e,"gstimeFromJday",function(){return V}),o.d(e,"gstimeFromDate",function(){return W}),o.d(e,"jday",function(){return x}),o.d(e,"invjday",function(){return y}),o.d(e,"dopplerFactor",function(){return R}),o.d(e,"degreesLat",function(){return w}),o.d(e,"degreesLong",function(){return C}),o.d(e,"geodeticToEcf",function(){return I}),o.d(e,"eciToGeodetic",function(){return j}),o.d(e,"eciToEcf",function(){return q}),o.d(e,"ecfToEci",function(){return G}),o.d(e,"ecfToLookAngles",function(){return U});var i=Math.PI,n=2*i,s=i/180,r=180/i,a=1440,d=6378.137,h=60/Math.sqrt(d*d*d/398600.5),c=1/h,u=.00108262998905,m=-253215306e-14,l=-161098761e-14,p=m/u,f=2/3,v=Object.freeze({pi:i,twoPi:n,deg2rad:s,rad2deg:r,minutesPerDay:a,mu:398600.5,earthRadius:d,xke:h,tumin:c,j2:u,j3:m,j4:l,j3oj2:p,x2o3:f});function M(t,e){for(var o=[31,t%4==0?29:28,31,30,31,30,31,31,30,31,30,31],i=Math.floor(e),n=1,s=0;i>s+o[n-1]&&n<12;)s+=o[n-1],n+=1;var r=n,a=i-s,d=24*(e-i),h=Math.floor(d);d=60*(d-h);var c=Math.floor(d);return{mon:r,day:a,hr:h,minute:c,sec:60*(d-c)}}function g(t,e,o,i,n,s){var r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return 367*t-Math.floor(7*(t+Math.floor((e+9)/12))*.25)+Math.floor(275*e/9)+o+1721013.5+((r/6e4+s/60+n)/60+i)/24}function x(t,e,o,i,n,s,r){if(t instanceof Date){var a=t;return g(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())}return g(t,e,o,i,n,s,r)}function y(t,e){var o=t-2415019.5,i=o/365.25,n=1900+Math.floor(i),s=Math.floor(.25*(n-1901)),r=o-(365*(n-1900)+s)+1e-11;r<1&&(r=o-(365*((n-=1)-1900)+(s=Math.floor(.25*(n-1901)))));var a=M(n,r),d=a.mon,h=a.day,c=a.hr,u=a.minute,m=a.sec-8.64e-7;return e?[n,d,h,c,u,Math.floor(m)]:new Date(Date.UTC(n,d-1,h,c,u,Math.floor(m)))}function T(t,e){var o=t.e3,s=t.ee2,r=t.peo,a=t.pgho,d=t.pho,h=t.pinco,c=t.plo,u=t.se2,m=t.se3,l=t.sgh2,p=t.sgh3,f=t.sgh4,v=t.sh2,M=t.sh3,g=t.si2,x=t.si3,y=t.sl2,T=t.sl3,b=t.sl4,z=t.t,_=t.xgh2,O=t.xgh3,A=t.xgh4,P=t.xh2,E=t.xh3,D=t.xi2,R=t.xi3,S=t.xl2,w=t.xl3,C=t.xl4,I=t.zmol,j=t.zmos,G=e.init,q=e.opsmode,U=e.ep,V=e.inclp,W=e.nodep,L=e.argpp,N=e.mp,F=void 0,J=void 0,B=void 0,Y=void 0,H=void 0,K=void 0,k=void 0,Q=void 0,X=void 0,Z=void 0,$=void 0,tt=void 0,et=void 0,ot=void 0,it=void 0,nt=void 0,st=void 0,rt=void 0;rt=j+119459e-10*z,"y"===G&&(rt=j),st=rt+.0335*Math.sin(rt);var at=u*(k=.5*(ot=Math.sin(st))*ot-.25)+m*(Q=-.5*ot*Math.cos(st)),dt=g*k+x*Q,ht=y*k+T*Q+b*ot,ct=l*k+p*Q+f*ot,ut=v*k+M*Q;return rt=I+.00015835218*z,"y"===G&&(rt=I),st=rt+.1098*Math.sin(rt),X=at+(s*(k=.5*(ot=Math.sin(st))*ot-.25)+o*(Q=-.5*ot*Math.cos(st))),tt=dt+(D*k+R*Q),et=ht+(S*k+w*Q+C*ot),Z=ct+(_*k+O*Q+A*ot),$=ut+(P*k+E*Q),"n"===G&&(et-=c,Z-=a,$-=d,V+=tt-=h,U+=X-=r,Y=Math.sin(V),B=Math.cos(V),V>=.2?(L+=Z-=B*($/=Y),W+=$,N+=et):(F=Y*(K=Math.sin(W)),J=Y*(H=Math.cos(W)),F+=$*H+tt*B*K,J+=-$*K+tt*B*H,(W%=n)<0&&"a"===q&&(W+=n),it=N+L+B*W,it+=et+Z-tt*W*Y,nt=W,(W=Math.atan2(F,J))<0&&"a"===q&&(W+=n),Math.abs(nt-W)>i&&(W<nt?W+=n:W-=n),L=it-(N+=et)-B*W)),{ep:U,inclp:V,nodep:W,argpp:L,mp:N}}function b(t){var e=(t-2451545)/36525,o=-62e-7*e*e*e+.093104*e*e+3164400184.812866*e+67310.54841;return(o=o*s/240%n)<0&&(o+=n),o}function z(){return(arguments.length<=0?void 0:arguments[0])instanceof Date||arguments.length>1?b(x.apply(void 0,arguments)):b.apply(void 0,arguments)}var _=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},O=function(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)};function A(t,e){var o=_({},t),s=void 0,r=void 0,a=void 0,c=void 0,m=void 0,l=void 0,v=void 0,M=void 0,g=void 0,x=void 0,y=void 0,b=void 0,z=void 0,O=void 0,A=void 0,P=void 0,E=void 0,D=void 0,R=void 0,S=void 0,w=void 0,C=void 0,I=void 0,j=void 0,G=void 0,q=void 0,U=d*h/60;o.t=e,o.error=0;var V=o.mo+o.mdot*o.t,W=o.argpo+o.argpdot*o.t,L=o.nodeo+o.nodedot*o.t;M=W,S=V;var N=o.t*o.t;if(C=L+o.nodecf*N,P=1-o.cc1*o.t,E=o.bstar*o.cc4*o.t,D=o.t2cof*N,1!==o.isimp){l=o.omgcof*o.t;var F=1+o.eta*Math.cos(V);S=V+(A=l+o.xmcof*(F*F*F-o.delmo)),M=W-A,b=(y=N*o.t)*o.t,P=P-o.d2*N-o.d3*y-o.d4*b,E+=o.bstar*o.cc5*(Math.sin(S)-o.sinmao),D=D+o.t3cof*y+b*(o.t4cof+o.t*o.t5cof)}w=o.no;var J=o.ecco;if(R=o.inclo,"d"===o.method){z=o.t;var B=function(t){var e=t.irez,o=t.d2201,i=t.d2211,s=t.d3210,r=t.d3222,a=t.d4410,d=t.d4422,h=t.d5220,c=t.d5232,u=t.d5421,m=t.d5433,l=t.dedt,p=t.del1,f=t.del2,v=t.del3,M=t.didt,g=t.dmdt,x=t.dnodt,y=t.domdt,T=t.argpo,b=t.argpdot,z=t.t,_=t.tc,O=t.gsto,A=t.xfact,P=t.xlamo,E=t.no,D=t.atime,R=t.em,S=t.argpm,w=t.inclm,C=t.xli,I=t.mm,j=t.xni,G=t.nodem,q=t.nm,U=5.7686396,V=.95240898,W=1.8014998,L=1.050833,N=4.4108898,F=void 0,J=void 0,B=void 0,Y=void 0,H=void 0,K=void 0,k=void 0,Q=void 0,X=0,Z=0,$=(O+.0043752690880113*_)%n;if(R+=l*z,w+=M*z,S+=y*z,G+=x*z,I+=g*z,0!==e){(0===D||z*D<=0||Math.abs(z)<Math.abs(D))&&(D=0,j=E,C=P),F=z>0?720:-720;for(var tt=381;381===tt;)2!==e?(k=p*Math.sin(C-.13130908)+f*Math.sin(2*(C-2.8843198))+v*Math.sin(3*(C-.37448087)),H=j+A,K=p*Math.cos(C-.13130908)+2*f*Math.cos(2*(C-2.8843198))+3*v*Math.cos(3*(C-.37448087)),K*=H):(B=(Q=T+b*D)+Q,J=C+C,k=o*Math.sin(B+C-U)+i*Math.sin(C-U)+s*Math.sin(Q+C-V)+r*Math.sin(-Q+C-V)+a*Math.sin(B+J-W)+d*Math.sin(J-W)+h*Math.sin(Q+C-L)+c*Math.sin(-Q+C-L)+u*Math.sin(Q+J-N)+m*Math.sin(-Q+J-N),H=j+A,K=o*Math.cos(B+C-U)+i*Math.cos(C-U)+s*Math.cos(Q+C-V)+r*Math.cos(-Q+C-V)+h*Math.cos(Q+C-L)+c*Math.cos(-Q+C-L)+2*a*Math.cos(B+J-W)+d*Math.cos(J-W)+u*Math.cos(Q+J-N)+m*Math.cos(-Q+J-N),K*=H),Math.abs(z-D)>=720?tt=381:(Z=z-D,tt=0),381===tt&&(C+=H*F+259200*k,j+=k*F+259200*K,D+=F);q=j+k*Z+K*Z*Z*.5,Y=C+H*Z+k*Z*Z*.5,1!==e?(I=Y-(2*G+2*$),X=q-E):(I=Y-G-S+$,X=q-E),q=E+X}return{atime:D,em:R,argpm:S,inclm:w,xli:C,mm:I,xni:j,nodem:G,dndt:X,nm:q}}({irez:o.irez,d2201:o.d2201,d2211:o.d2211,d3210:o.d3210,d3222:o.d3222,d4410:o.d4410,d4422:o.d4422,d5220:o.d5220,d5232:o.d5232,d5421:o.d5421,d5433:o.d5433,dedt:o.dedt,del1:o.del1,del2:o.del2,del3:o.del3,didt:o.didt,dmdt:o.dmdt,dnodt:o.dnodt,domdt:o.domdt,argpo:o.argpo,argpdot:o.argpdot,t:o.t,tc:z,gsto:o.gsto,xfact:o.xfact,xlamo:o.xlamo,no:o.no,atime:o.atime,em:J,argpm:M,inclm:R,xli:o.xli,mm:S,xni:o.xni,nodem:C,nm:w});J=B.em,M=B.argpm,R=B.inclm,S=B.mm,C=B.nodem,w=B.nm}if(w<=0)return o.error=2,[!1,!1];var Y=Math.pow(h/w,f)*P*P;if(w=h/Math.pow(Y,1.5),(J-=E)>=1||J<-.001)return o.error=1,[!1,!1];J<1e-6&&(J=1e-6),j=(S+=o.no*D)+M+C;var H=J;if(I=R,g=M%=n,q=C%=n,G=S=((j%=n)-M-C)%n,c=Math.sin(R),a=Math.cos(R),"d"===o.method){var K=T(o,{inclo:o.inclo,init:"n",ep:H,inclp:I,nodep:q,argpp:g,mp:G,opsmode:o.operationmod});if(H=K.ep,q=K.nodep,g=K.argpp,G=K.mp,(I=K.inclp)<0&&(I=-I,q+=i,g-=i),H<0||H>1)return o.error=3,[!1,!1]}"d"===o.method&&(c=Math.sin(I),a=Math.cos(I),o.aycof=-.5*p*c,Math.abs(a+1)>1.5e-12?o.xlcof=-.25*p*c*(3+5*a)/(1+a):o.xlcof=-.25*p*c*(3+5*a)/1.5e-12);var k=H*Math.cos(g);A=1/(Y*(1-H*H));var Q=H*Math.sin(g)+A*o.aycof,X=(G+g+q+A*o.xlcof*k-q)%n;v=X,O=9999.9;for(var Z=1;Math.abs(O)>=1e-12&&Z<=10;)r=Math.sin(v),O=(X-Q*(s=Math.cos(v))+k*r-v)/(O=1-s*k-r*Q),Math.abs(O)>=.95&&(O=O>0?.95:-.95),v+=O,Z+=1;var $=k*s+Q*r,tt=k*r-Q*s,et=k*k+Q*Q,ot=Y*(1-et);if(ot<0)return o.error=4,[!1,!1];var it=Y*(1-$),nt=Math.sqrt(Y)*tt/it,st=Math.sqrt(ot)/it,rt=Math.sqrt(1-et),at=Y/it*(r-Q-k*(A=tt/(1+rt))),dt=Y/it*(s-k+Q*A);x=Math.atan2(at,dt);var ht=(dt+dt)*at,ct=1-2*at*at,ut=.5*u*(A=1/ot),mt=ut*A;"d"===o.method&&(m=a*a,o.con41=3*m-1,o.x1mth2=1-m,o.x7thm1=7*m-1);var lt=it*(1-1.5*mt*rt*o.con41)+.5*ut*o.x1mth2*ct;x-=.25*mt*o.x7thm1*ht;var pt=q+1.5*mt*a*ht,ft=I+1.5*mt*a*c*ct,vt=nt-w*ut*o.x1mth2*ht/h,Mt=st+w*ut*(o.x1mth2*ct+1.5*o.con41)/h,gt=Math.sin(x),xt=Math.cos(x),yt=Math.sin(pt),Tt=Math.cos(pt),bt=Math.sin(ft),zt=Math.cos(ft),_t=-yt*zt,Ot=Tt*zt,At=_t*gt+Tt*xt,Pt=Ot*gt+yt*xt,Et=bt*gt,Dt={x:lt*At*d,y:lt*Pt*d,z:lt*Et*d},Rt={x:(vt*At+Mt*(_t*xt-Tt*gt))*U,y:(vt*Pt+Mt*(Ot*xt-yt*gt))*U,z:(vt*Et+Mt*(bt*xt))*U};return lt<1?(o.error=6,{position:!1,velocity:!1,satrec:o}):{position:Dt,velocity:Rt,satrec:o}}function P(t,e){var o=_({},t),s=e.opsmode,r=e.satn,a=e.epoch,c=e.xbstar,m=e.xecco,v=e.xargpo,M=e.xinclo,g=e.xmo,x=e.xno,y=e.xnodeo,b=void 0,O=void 0,P=void 0,E=void 0,D=void 0,R=void 0,S=void 0,w=void 0,C=void 0,I=void 0,j=void 0,G=void 0,q=void 0,U=void 0,V=void 0,W=void 0,L=void 0,N=void 0,F=void 0,J=void 0,B=void 0,Y=void 0,H=void 0,K=void 0,k=void 0,Q=void 0,X=void 0,Z=void 0,$=void 0,tt=void 0,et=void 0,ot=void 0,it=void 0,nt=void 0,st=void 0,rt=void 0,at=void 0,dt=void 0,ht=void 0,ct=void 0,ut=void 0,mt=void 0,lt=void 0,pt=void 0,ft=void 0,vt=void 0,Mt=void 0,gt=void 0,xt=void 0,yt=void 0,Tt=void 0,bt=void 0,zt=void 0,_t=void 0,Ot=void 0,At=void 0;o.isimp=0,o.method="n",o.aycof=0,o.con41=0,o.cc1=0,o.cc4=0,o.cc5=0,o.d2=0,o.d3=0,o.d4=0,o.delmo=0,o.eta=0,o.argpdot=0,o.omgcof=0,o.sinmao=0,o.t=0,o.t2cof=0,o.t3cof=0,o.t4cof=0,o.t5cof=0,o.x1mth2=0,o.x7thm1=0,o.mdot=0,o.nodedot=0,o.xlcof=0,o.xmcof=0,o.nodecf=0,o.irez=0,o.d2201=0,o.d2211=0,o.d3210=0,o.d3222=0,o.d4410=0,o.d4422=0,o.d5220=0,o.d5232=0,o.d5421=0,o.d5433=0,o.dedt=0,o.del1=0,o.del2=0,o.del3=0,o.didt=0,o.dmdt=0,o.dnodt=0,o.domdt=0,o.e3=0,o.ee2=0,o.peo=0,o.pgho=0,o.pho=0,o.pinco=0,o.plo=0,o.se2=0,o.se3=0,o.sgh2=0,o.sgh3=0,o.sgh4=0,o.sh2=0,o.sh3=0,o.si2=0,o.si3=0,o.sl2=0,o.sl3=0,o.sl4=0,o.gsto=0,o.xfact=0,o.xgh2=0,o.xgh3=0,o.xgh4=0,o.xh2=0,o.xh3=0,o.xi2=0,o.xi3=0,o.xl2=0,o.xl3=0,o.xl4=0,o.xlamo=0,o.zmol=0,o.zmos=0,o.atime=0,o.xli=0,o.xni=0,o.bstar=c,o.ecco=m,o.argpo=v,o.inclo=M,o.mo=g,o.no=x,o.nodeo=y,o.operationmode=s;var Pt=78/d+1,Et=42/d,Dt=Et*Et*Et*Et;o.init="y",o.t=0;var Rt=function(t){var e=t.ecco,o=t.epoch,i=t.inclo,s=t.opsmode,r=t.no,a=e*e,d=1-a,c=Math.sqrt(d),m=Math.cos(i),l=m*m,p=Math.pow(h/r,f),v=.75*u*(3*l-1)/(c*d),M=v/(p*p),g=p*(1-M*M-M*(1/3+134*M*M/81));r/=1+(M=v/(g*g));var x=Math.pow(h/r,f),y=Math.sin(i),T=x*d,b=1-5*l,_=-b-l-l,O=1/x,A=T*T,P=x*(1-e),E=void 0;if("a"===s){var D=o-7305,R=Math.floor(D+1e-8),S=.017202791694070362;(E=(1.7321343856509375+S*R+(S+n)*(D-R)+D*D*5.075514194322695e-15)%n)<0&&(E+=n)}else E=z(o+2433281.5);return{no:r,method:"n",ainv:O,ao:x,con41:_,con42:b,cosio:m,cosio2:l,eccsq:a,omeosq:d,posq:A,rp:P,rteosq:c,sinio:y,gsto:E}}({satn:r,ecco:o.ecco,epoch:a,inclo:o.inclo,no:o.no,method:o.method,opsmode:o.operationmode}),St=Rt.ao,wt=Rt.con42,Ct=Rt.cosio,It=Rt.cosio2,jt=Rt.eccsq,Gt=Rt.omeosq,qt=Rt.posq,Ut=Rt.rp,Vt=Rt.rteosq,Wt=Rt.sinio;if(o.no=Rt.no,o.con41=Rt.con41,o.gsto=Rt.gsto,o.error=0,Gt>=0||o.no>=0){if(o.isimp=0,(Ut<220/d)+1&&(o.isimp=1),X=Pt,B=Dt,(N=(Ut-1)*d)<156){X=N-78,N<98&&(X=20);var Lt=(120-X)/d;B=Lt*Lt*Lt*Lt,X=X/d+1}F=1/qt,vt=1/(St-X),o.eta=St*o.ecco*vt,G=o.eta*o.eta,j=o.ecco*o.eta,J=Math.abs(1-G),E=(S=(R=B*Math.pow(vt,4))/Math.pow(J,3.5))*o.no*(St*(1+1.5*G+j*(4+G))+.375*u*vt/J*o.con41*(8+3*G*(8+G))),o.cc1=o.bstar*E,D=0,o.ecco>1e-4&&(D=-2*R*vt*p*o.no*Wt/o.ecco),o.x1mth2=1-It,o.cc4=2*o.no*S*St*Gt*(o.eta*(2+.5*G)+o.ecco*(.5+2*G)-u*vt/(St*J)*(-3*o.con41*(1-2*j+G*(1.5-.5*j))+.75*o.x1mth2*(2*G-j*(1+G))*Math.cos(2*o.argpo))),o.cc5=2*S*St*Gt*(1+2.75*(G+j)+j*G),w=It*It,pt=.5*(lt=1.5*u*F*o.no)*u*F,ft=-.46875*l*F*F*o.no,o.mdot=o.no+.5*lt*Vt*o.con41+.0625*pt*Vt*(13-78*It+137*w),o.argpdot=-.5*lt*wt+.0625*pt*(7-114*It+395*w)+ft*(3-36*It+49*w),gt=-lt*Ct,o.nodedot=gt+(.5*pt*(4-19*It)+2*ft*(3-7*It))*Ct,Mt=o.argpdot+o.nodedot,o.omgcof=o.bstar*D*Math.cos(o.argpo),o.xmcof=0,o.ecco>1e-4&&(o.xmcof=-f*R*o.bstar/j),o.nodecf=3.5*Gt*gt*o.cc1,o.t2cof=1.5*o.cc1,Math.abs(Ct+1)>1.5e-12?o.xlcof=-.25*p*Wt*(3+5*Ct)/(1+Ct):o.xlcof=-.25*p*Wt*(3+5*Ct)/1.5e-12,o.aycof=-.5*p*Wt;var Nt=1+o.eta*Math.cos(o.mo);if(o.delmo=Nt*Nt*Nt,o.sinmao=Math.sin(o.mo),o.x7thm1=7*It-1,2*i/o.no>=225){o.method="d",o.isimp=1,ut=0,V=o.inclo;var Ft=function(t){var e=t.epoch,o=t.ep,i=t.argpp,s=t.tc,r=t.inclp,a=t.nodep,d=void 0,h=void 0,c=void 0,u=void 0,m=void 0,l=void 0,p=void 0,f=void 0,v=void 0,M=void 0,g=void 0,x=void 0,y=void 0,T=void 0,b=void 0,z=void 0,_=void 0,O=void 0,A=void 0,P=void 0,E=void 0,D=void 0,R=void 0,S=void 0,w=void 0,C=void 0,I=void 0,j=void 0,G=void 0,q=void 0,U=void 0,V=void 0,W=void 0,L=void 0,N=void 0,F=void 0,J=void 0,B=void 0,Y=void 0,H=void 0,K=void 0,k=void 0,Q=void 0,X=void 0,Z=void 0,$=void 0,tt=void 0,et=void 0,ot=void 0,it=void 0,nt=void 0,st=void 0,rt=void 0,at=void 0,dt=void 0,ht=void 0,ct=void 0,ut=void 0,mt=void 0,lt=void 0,pt=void 0,ft=void 0,vt=void 0,Mt=t.np,gt=o,xt=Math.sin(a),yt=Math.cos(a),Tt=Math.sin(i),bt=Math.cos(i),zt=Math.sin(r),_t=Math.cos(r),Ot=gt*gt,At=1-Ot,Pt=Math.sqrt(At),Et=e+18261.5+s/1440,Dt=(4.523602-.00092422029*Et)%n,Rt=Math.sin(Dt),St=Math.cos(Dt),wt=.91375164-.03568096*St,Ct=Math.sqrt(1-wt*wt),It=.089683511*Rt/Ct,jt=Math.sqrt(1-It*It),Gt=5.8351514+.001944368*Et,qt=.39785416*Rt/Ct,Ut=jt*St+.91744867*It*Rt;qt=Math.atan2(qt,Ut),qt+=Gt-Dt;var Vt=Math.cos(qt),Wt=Math.sin(qt);P=.1945905,E=-.98088458,S=.91744867,w=.39785416,D=yt,R=xt,g=29864797e-13;for(var Lt=1/Mt,Nt=0;Nt<2;)dt=-6*(d=P*D+E*S*R)*(m=-zt*(p=-P*R+E*S*D)+_t*(f=E*w))+Ot*(-24*(x=d*bt+(h=_t*p+zt*f)*Tt)*(O=m*bt)-6*(T=-d*Tt+h*bt)*(z=m*Tt)),ht=-6*(d*(l=-zt*(v=E*R+P*S*D)+_t*(M=P*w))+(c=-E*D+P*S*R)*m)+Ot*(-24*((y=c*bt+(u=_t*v+zt*M)*Tt)*O+x*(A=l*bt))+-6*(T*(_=l*Tt)+(b=-c*Tt+u*bt)*z)),ct=-6*c*l+Ot*(-24*y*A-6*b*_),ut=6*h*m+Ot*(24*x*z-6*T*O),mt=6*(u*m+h*l)+Ot*(24*(y*z+x*_)-6*(b*O+T*A)),lt=6*u*l+Ot*(24*y*_-6*b*A),st=(st=3*(d*d+h*h)+(pt=12*x*x-3*T*T)*Ot)+st+At*pt,rt=(rt=6*(d*c+h*u)+(ft=24*x*y-6*T*b)*Ot)+rt+At*ft,at=(at=3*(c*c+u*u)+(vt=12*y*y-3*b*b)*Ot)+at+At*vt,$=-.5*(tt=g*Lt)/Pt,Z=-15*gt*(et=tt*Pt),ot=x*T+y*b,it=y*T+x*b,nt=y*b-x*T,1===(Nt+=1)&&(C=Z,I=$,j=tt,G=et,q=ot,U=it,V=nt,W=st,L=rt,N=at,F=dt,J=ht,B=ct,Y=ut,H=mt,K=lt,k=pt,Q=ft,X=vt,P=Vt,E=Wt,S=wt,w=Ct,D=jt*yt+It*xt,R=xt*jt-yt*It,g=4.7968065e-7);return{snodm:xt,cnodm:yt,sinim:zt,cosim:_t,sinomm:Tt,cosomm:bt,day:Et,e3:2*Z*nt,ee2:2*Z*it,em:gt,emsq:Ot,gam:Gt,peo:0,pgho:0,pho:0,pinco:0,plo:0,rtemsq:Pt,se2:2*C*U,se3:2*C*V,sgh2:2*G*Q,sgh3:2*G*(X-k),sgh4:-18*G*.01675,sh2:-2*I*H,sh3:-2*I*(K-Y),si2:2*I*J,si3:2*I*(B-F),sl2:-2*j*L,sl3:-2*j*(N-W),sl4:-2*j*(-21-9*Ot)*.01675,s1:Z,s2:$,s3:tt,s4:et,s5:ot,s6:it,s7:nt,ss1:C,ss2:I,ss3:j,ss4:G,ss5:q,ss6:U,ss7:V,sz1:W,sz2:L,sz3:N,sz11:F,sz12:J,sz13:B,sz21:Y,sz22:H,sz23:K,sz31:k,sz32:Q,sz33:X,xgh2:2*et*ft,xgh3:2*et*(vt-pt),xgh4:-18*et*.0549,xh2:-2*$*mt,xh3:-2*$*(lt-ut),xi2:2*$*ht,xi3:2*$*(ct-dt),xl2:-2*tt*rt,xl3:-2*tt*(at-st),xl4:-2*tt*(-21-9*Ot)*.0549,nm:Mt,z1:st,z2:rt,z3:at,z11:dt,z12:ht,z13:ct,z21:ut,z22:mt,z23:lt,z31:pt,z32:ft,z33:vt,zmol:(.2299715*Et-Gt+4.7199672)%n,zmos:(6.2565837+.017201977*Et)%n}}({epoch:a,ep:o.ecco,argpp:o.argpo,tc:ut,inclp:o.inclo,nodep:o.nodeo,np:o.no,e3:o.e3,ee2:o.ee2,peo:o.peo,pgho:o.pgho,pho:o.pho,pinco:o.pinco,plo:o.plo,se2:o.se2,se3:o.se3,sgh2:o.sgh2,sgh3:o.sgh3,sgh4:o.sgh4,sh2:o.sh2,sh3:o.sh3,si2:o.si2,si3:o.si3,sl2:o.sl2,sl3:o.sl3,sl4:o.sl4,xgh2:o.xgh2,xgh3:o.xgh3,xgh4:o.xgh4,xh2:o.xh2,xh3:o.xh3,xi2:o.xi2,xi3:o.xi3,xl2:o.xl2,xl3:o.xl3,xl4:o.xl4,zmol:o.zmol,zmos:o.zmos});o.e3=Ft.e3,o.ee2=Ft.ee2,o.peo=Ft.peo,o.pgho=Ft.pgho,o.pho=Ft.pho,o.pinco=Ft.pinco,o.plo=Ft.plo,o.se2=Ft.se2,o.se3=Ft.se3,o.sgh2=Ft.sgh2,o.sgh3=Ft.sgh3,o.sgh4=Ft.sgh4,o.sh2=Ft.sh2,o.sh3=Ft.sh3,o.si2=Ft.si2,o.si3=Ft.si3,o.sl2=Ft.sl2,o.sl3=Ft.sl3,o.sl4=Ft.sl4,O=Ft.sinim,b=Ft.cosim,C=Ft.em,I=Ft.emsq,Y=Ft.s1,H=Ft.s2,K=Ft.s3,k=Ft.s4,Q=Ft.s5,Z=Ft.ss1,$=Ft.ss2,tt=Ft.ss3,et=Ft.ss4,ot=Ft.ss5,it=Ft.sz1,nt=Ft.sz3,st=Ft.sz11,rt=Ft.sz13,at=Ft.sz21,dt=Ft.sz23,ht=Ft.sz31,ct=Ft.sz33,o.xgh2=Ft.xgh2,o.xgh3=Ft.xgh3,o.xgh4=Ft.xgh4,o.xh2=Ft.xh2,o.xh3=Ft.xh3,o.xi2=Ft.xi2,o.xi3=Ft.xi3,o.xl2=Ft.xl2,o.xl3=Ft.xl3,o.xl4=Ft.xl4,o.zmol=Ft.zmol,o.zmos=Ft.zmos,L=Ft.nm,xt=Ft.z1,yt=Ft.z3,Tt=Ft.z11,bt=Ft.z13,zt=Ft.z21,_t=Ft.z23,Ot=Ft.z31,At=Ft.z33;var Jt=T(o,{inclo:V,init:o.init,ep:o.ecco,inclp:o.inclo,nodep:o.nodeo,argpp:o.argpo,mp:o.mo,opsmode:o.operationmode});o.ecco=Jt.ep,o.inclo=Jt.inclp,o.nodeo=Jt.nodep,o.argpo=Jt.argpp,o.mo=Jt.mp,q=0,U=0,W=0;var Bt=function(t){var e=t.cosim,o=t.argpo,s=t.s1,r=t.s2,a=t.s3,d=t.s4,c=t.s5,u=t.sinim,m=t.ss1,l=t.ss2,p=t.ss3,v=t.ss4,M=t.ss5,g=t.sz1,x=t.sz3,y=t.sz11,T=t.sz13,b=t.sz21,z=t.sz23,_=t.sz31,O=t.sz33,A=t.t,P=t.tc,E=t.gsto,D=t.mo,R=t.mdot,S=t.no,w=t.nodeo,C=t.nodedot,I=t.xpidot,j=t.z1,G=t.z3,q=t.z11,U=t.z13,V=t.z21,W=t.z23,L=t.z31,N=t.z33,F=t.ecco,J=t.eccsq,B=t.emsq,Y=t.em,H=t.argpm,K=t.inclm,k=t.mm,Q=t.nm,X=t.nodem,Z=t.irez,$=t.atime,tt=t.d2201,et=t.d2211,ot=t.d3210,it=t.d3222,nt=t.d4410,st=t.d4422,rt=t.d5220,at=t.d5232,dt=t.d5421,ht=t.d5433,ct=t.dedt,ut=t.didt,mt=t.dmdt,lt=t.dnodt,pt=t.domdt,ft=t.del1,vt=t.del2,Mt=t.del3,gt=t.xfact,xt=t.xlamo,yt=t.xli,Tt=t.xni,bt=void 0,zt=void 0,_t=void 0,Ot=void 0,At=void 0,Pt=void 0,Et=void 0,Dt=void 0,Rt=void 0,St=void 0,wt=void 0,Ct=void 0,It=void 0,jt=void 0,Gt=void 0,qt=void 0,Ut=void 0,Vt=.0043752690880113,Wt=.00015835218,Lt=119459e-10;Z=0,Q<.0052359877&&Q>.0034906585&&(Z=1),Q>=.00826&&Q<=.00924&&Y>=.5&&(Z=2);var Nt=-Lt*l*(b+z);(K<.052359877||K>i-.052359877)&&(Nt=0),0!==u&&(Nt/=u),ct=m*Lt*M+s*Wt*c,ut=l*Lt*(y+T)+r*Wt*(q+U),mt=-Lt*p*(g+x-14-6*B)-Wt*a*(j+G-14-6*B);var Ft=-Wt*r*(V+W);(K<.052359877||K>i-.052359877)&&(Ft=0),pt=v*Lt*(_+O-6)-e*Nt+d*Wt*(L+N-6),lt=Nt,0!==u&&(pt-=e/u*Ft,lt+=Ft/u);var Jt=(E+P*Vt)%n;if(Y+=ct*A,K+=ut*A,H+=pt*A,X+=lt*A,k+=mt*A,0!==Z){if(Gt=Math.pow(Q/h,f),2===Z){qt=e*e;var Bt=Y,Yt=B;Ut=(Y=F)*(B=J),Y<=.65?(_t=3.616-13.247*Y+16.29*B,Ot=117.39*Y-19.302-228.419*B+156.591*Ut,At=109.7927*Y-18.9068-214.6334*B+146.5816*Ut,Pt=242.694*Y-41.122-471.094*B+313.953*Ut,Et=841.88*Y-146.407-1629.014*B+1083.435*Ut,Dt=3017.977*Y-532.114-5740.032*B+3708.276*Ut):(_t=331.819*Y-72.099-508.738*B+266.724*Ut,Ot=1582.851*Y-346.844-2415.925*B+1246.113*Ut,At=1554.908*Y-342.585-2366.899*B+1215.972*Ut,Pt=4758.686*Y-1052.797-7193.992*B+3651.957*Ut,Et=16178.11*Y-3581.69-24462.77*B+12422.52*Ut,Dt=Y>.715?29936.92*Y-5149.66-54087.36*B+31324.56*Ut:1464.74-4664.75*Y+3763.64*B),Y<.7?(wt=4988.61*Y-919.2277-9064.77*B+5542.21*Ut,Rt=4568.6173*Y-822.71072-8491.4146*B+5337.524*Ut,St=4690.25*Y-853.666-8624.77*B+5341.4*Ut):(wt=161616.52*Y-37995.78-229838.2*B+109377.94*Ut,Rt=218913.95*Y-51752.104-309468.16*B+146349.42*Ut,St=170470.89*Y-40023.88-242699.48*B+115605.82*Ut),tt=(It=17891679e-13*(jt=Q*Q*3*(Gt*Gt)))*(bt=.75*(1+2*e+qt))*(-.306-.44*(Y-.64)),et=It*(1.5*(Ct=u*u))*_t,ot=(It=3.7393792e-7*(jt*=Gt))*(1.875*u*(1-2*e-3*qt))*Ot,it=It*(-1.875*u*(1+2*e-3*qt))*At,nt=(It=2*(jt*=Gt)*7.3636953e-9)*(35*Ct*bt)*Pt,st=It*(39.375*Ct*Ct)*Et,rt=(It=1.1428639e-7*(jt*=Gt))*(9.84375*u*(Ct*(1-2*e-5*qt)+.33333333*(4*e-2+6*qt)))*Dt,at=It*(u*(4.92187512*Ct*(-2-4*e+10*qt)+6.56250012*(1+2*e-3*qt)))*St,dt=(It=2*jt*2.1765803e-9)*(29.53125*u*(2-8*e+qt*(8*e-12+10*qt)))*Rt,ht=It*(29.53125*u*(-2-8*e+qt*(12+8*e-10*qt)))*wt,xt=(D+w+w-(Jt+Jt))%n,gt=R+mt+2*(C+lt-Vt)-S,Y=Bt,B=Yt}1===Z&&(zt=1+e,vt=2*(ft=3*Q*Q*Gt*Gt)*(bt=.75*(1+e)*(1+e))*(1+B*(.8125*B-2.5))*17891679e-13,Mt=3*ft*(zt*=1.875*zt*zt)*(1+B*(6.60937*B-6))*2.2123015e-7*Gt,ft=ft*(.9375*u*u*(1+3*e)-.75*(1+e))*(Ot=1+2*B)*21460748e-13*Gt,xt=(D+w+o-Jt)%n,gt=R+I+mt+pt+lt-(S+Vt)),yt=xt,Tt=S,$=0,Q=S+0}return{em:Y,argpm:H,inclm:K,mm:k,nm:Q,nodem:X,irez:Z,atime:$,d2201:tt,d2211:et,d3210:ot,d3222:it,d4410:nt,d4422:st,d5220:rt,d5232:at,d5421:dt,d5433:ht,dedt:ct,didt:ut,dmdt:mt,dndt:0,dnodt:lt,domdt:pt,del1:ft,del2:vt,del3:Mt,xfact:gt,xlamo:xt,xli:yt,xni:Tt}}({cosim:b,emsq:I,argpo:o.argpo,s1:Y,s2:H,s3:K,s4:k,s5:Q,sinim:O,ss1:Z,ss2:$,ss3:tt,ss4:et,ss5:ot,sz1:it,sz3:nt,sz11:st,sz13:rt,sz21:at,sz23:dt,sz31:ht,sz33:ct,t:o.t,tc:ut,gsto:o.gsto,mo:o.mo,mdot:o.mdot,no:o.no,nodeo:o.nodeo,nodedot:o.nodedot,xpidot:Mt,z1:xt,z3:yt,z11:Tt,z13:bt,z21:zt,z23:_t,z31:Ot,z33:At,ecco:o.ecco,eccsq:jt,em:C,argpm:q,inclm:V,mm:W,nm:L,nodem:U,irez:o.irez,atime:o.atime,d2201:o.d2201,d2211:o.d2211,d3210:o.d3210,d3222:o.d3222,d4410:o.d4410,d4422:o.d4422,d5220:o.d5220,d5232:o.d5232,d5421:o.d5421,d5433:o.d5433,dedt:o.dedt,didt:o.didt,dmdt:o.dmdt,dnodt:o.dnodt,domdt:o.domdt,del1:o.del1,del2:o.del2,del3:o.del3,xfact:o.xfact,xlamo:o.xlamo,xli:o.xli,xni:o.xni});o.irez=Bt.irez,o.atime=Bt.atime,o.d2201=Bt.d2201,o.d2211=Bt.d2211,o.d3210=Bt.d3210,o.d3222=Bt.d3222,o.d4410=Bt.d4410,o.d4422=Bt.d4422,o.d5220=Bt.d5220,o.d5232=Bt.d5232,o.d5421=Bt.d5421,o.d5433=Bt.d5433,o.dedt=Bt.dedt,o.didt=Bt.didt,o.dmdt=Bt.dmdt,o.dnodt=Bt.dnodt,o.domdt=Bt.domdt,o.del1=Bt.del1,o.del2=Bt.del2,o.del3=Bt.del3,o.xfact=Bt.xfact,o.xlamo=Bt.xlamo,o.xli=Bt.xli,o.xni=Bt.xni}1!==o.isimp&&(P=o.cc1*o.cc1,o.d2=4*St*vt*P,mt=o.d2*vt*o.cc1/3,o.d3=(17*St+X)*mt,o.d4=.5*mt*St*vt*(221*St+31*X)*o.cc1,o.t3cof=o.d2+2*P,o.t4cof=.25*(3*o.d3+o.cc1*(12*o.d2+10*P)),o.t5cof=.2*(3*o.d4+12*o.cc1*o.d3+6*o.d2*o.d2+15*P*(2*o.d2+P)))}return A(o,0),o.init="n",o}function E(t,e){var o=1440/(2*i),n=0,r={error:0};r.satnum=t.substring(2,7),r.epochyr=parseInt(t.substring(18,20),10),r.epochdays=parseFloat(t.substring(20,32)),r.ndot=parseFloat(t.substring(33,43)),r.nddot=parseFloat("."+parseInt(t.substring(44,50),10)+"E"+t.substring(50,52)),r.bstar=parseFloat(t.substring(53,54)+"."+parseInt(t.substring(54,59),10)+"E"+t.substring(59,61)),r.inclo=parseFloat(e.substring(8,16)),r.nodeo=parseFloat(e.substring(17,25)),r.ecco=parseFloat("."+e.substring(26,33)),r.argpo=parseFloat(e.substring(34,42)),r.mo=parseFloat(e.substring(43,51)),r.no=parseFloat(e.substring(52,63)),r.no/=o,r.a=Math.pow(r.no*c,-2/3),r.ndot/=1440*o,r.nddot/=1440*o*1440,r.inclo*=s,r.nodeo*=s,r.argpo*=s,r.mo*=s,r.alta=r.a*(1+r.ecco)-1,r.altp=r.a*(1-r.ecco)-1;var a=M(n=r.epochyr<57?r.epochyr+2e3:r.epochyr+1900,r.epochdays),d=a.mon,h=a.day,u=a.hr,m=a.minute,l=a.sec;return r.jdsatepoch=x(n,d,h,u,m,l),P(r,{opsmode:"i",satn:r.satnum,epoch:r.jdsatepoch-2433281.5,xbstar:r.bstar,xecco:r.ecco,xargpo:r.argpo,xinclo:r.inclo,xmo:r.mo,xno:r.no,xnodeo:r.nodeo})}function D(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];var i=e[0],n=Array.prototype.slice.call(e,1);return A(i,(x.apply(void 0,O(n))-i.jdsatepoch)*a)}function R(t,e,o){var i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)),n=e.x+o.x,s=e.y+o.y,r=e.z+o.z,a=Math.sqrt(Math.pow(n-t.x,2)+Math.pow(s-t.y,2)+Math.pow(r-t.z,2))-i;return 1+(a*=a>=0?1:-1)/299792.458}function S(t){return t*r}function w(t){if(t<-i/2||t>i/2)throw new RangeError("Latitude radians must be in range [-pi/2; pi/2].");return S(t)}function C(t){if(t<-i||t>i)throw new RangeError("Longitude radians must be in range [-pi; pi].");return S(t)}function I(t){var e=t.longitude,o=t.latitude,i=t.height,n=6378.137,s=(n-6356.7523142)/n,r=2*s-s*s,a=n/Math.sqrt(1-r*(Math.sin(o)*Math.sin(o)));return{x:(a+i)*Math.cos(o)*Math.cos(e),y:(a+i)*Math.cos(o)*Math.sin(e),z:(a*(1-r)+i)*Math.sin(o)}}function j(t,e){for(var o=6378.137,i=Math.sqrt(t.x*t.x+t.y*t.y),n=(o-6356.7523142)/o,s=2*n-n*n,r=Math.atan2(t.y,t.x)-e,a=0,d=Math.atan2(t.z,Math.sqrt(t.x*t.x+t.y*t.y)),h=void 0;a<20;)h=1/Math.sqrt(1-s*(Math.sin(d)*Math.sin(d))),d=Math.atan2(t.z+o*h*s*Math.sin(d),i),a+=1;return{longitude:r,latitude:d,height:i/Math.cos(d)-o*h}}function G(t,e){return{x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e),z:t.z}}function q(t,e){return{x:t.x*Math.cos(e)+t.y*Math.sin(e),y:t.x*-Math.sin(e)+t.y*Math.cos(e),z:t.z}}function U(t,e){var o,n,s,r,a,d,h,c,u,m,l,p,f,v,M=(n=e,s=(o=t).longitude,r=o.latitude,a=I(o),d=n.x-a.x,h=n.y-a.y,c=n.z-a.z,{topS:Math.sin(r)*Math.cos(s)*d+Math.sin(r)*Math.sin(s)*h-Math.cos(r)*c,topE:-Math.sin(s)*d+Math.cos(s)*h,topZ:Math.cos(r)*Math.cos(s)*d+Math.cos(r)*Math.sin(s)*h+Math.sin(r)*c});return m=(u=M).topS,l=u.topE,p=u.topZ,f=Math.sqrt(m*m+l*l+p*p),v=Math.asin(p/f),{azimuth:Math.atan2(-l,m)+i,elevation:v,rangeSat:f}}var V=function(){return console.warn("gstimeFromJday is deprecated, use gstime instead."),z.apply(void 0,arguments)},W=function(){return console.warn("gstimeFromDate is deprecated, use gstime instead."),z.apply(void 0,arguments)}}])});